<!DOCTYPE html>
<html lang="en">
	<head>
		<title>De Schatkaart van Bergen</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>
<!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>
   <script type="text/javascript"
        src="https://cdn.jsdelivr.net/gh/hosuaby/Leaflet.SmoothMarkerBouncing@v2.0.0/dist/bundle.js"
        crossorigin="anonymous"></script>
		<style>
			html, body {
				height: 100%;
				margin: 0;
				padding: 400;
			}
			
			#map {
				width:100%;
				height:100%;
				color: #CCC;
				background: #EFEFEF;
			}
			.leaflet-control-layers {
				background-color: red;
				display: block;

			}
		</style>
	</head>
	<body>
		<div id="map"></div>
		<script type="text/javascript">
					//code voor interactieve map met leaflet library
					//declare map
					var map = L.map('map').setView([0,0], 2);
					//some vars for setMapBoundaries
					var mapSW = [0, 8190],
							mapNE = [8190, 0];
					//reference tiles
					L.tileLayer('bergen/schatkaart/{z}/{x}/{y}.jpg', {
						minZoom: 0,
						maxZoom: 5,
						continuousWorld: false,
						noWrap: true,
						crs : L.CRS.Simple,
					}).addTo(map);

					//set map boundaries
					map.setMaxBounds(new L.LatLngBounds(
						map.unproject(mapSW, map.getMaxZoom()),
						map.unproject(mapNE, map.getMaxZoom())
					));
					//Markers and Popups
					//latlng
					/*
					var marker = L.marker([4, 2], {
						draggable:true,
					}).addTo(map).bounce();
					marker
					.bindPopup('<b>Rechsboven op het rode vierkantje kan je filteren</b>').openPopup();
					*/
					//create custom markers
					var greenIcon = L.icon({
						iconUrl: 'leaf-green.png',
						shadowUrl: 'leaf-shadow.png',
						iconSize: [38,95],
						shadowSize:[50,64],
						iconAnchor: [22, 94],
						shadowAnchor: [4, 62],
						popupAnchor: [-3, -76],
						className: "leaf"
					});
					var fabelsIcon = L.icon({
						iconUrl: 'vork_en_mes.png',
						iconSize: [45,45],
						shadowSize:[50,64],
						iconAnchor: [22, 94],
						shadowAnchor: [4, 62],
						popupAnchor: [-3, -76],
						className: "vork_en_mes"
					});
					var kidsIcon = L.icon({
						iconUrl: 'child-icon.jpeg',
						iconSize: [45,45],
						shadowSize:[50,64],
						iconAnchor: [22, 94],
						shadowAnchor: [4, 62],
						popupAnchor: [-3, -76],
						className: "child-icon"
					});

					//L.marker([50.505, 30.57], {icon: greenIcon}).addTo(map);
					//pixel markers
					//open img

					var gasterij_url = '<img src="vork_en_mes.png" width="50px" height="50px"><a href="https://www.het-woud.nl/informatie/" target="_blank"> meer info</a>'
					var fabels_url = '<img src="vork_en_mes.png" width="50px" height="50px"><a href="https://fabels-bergen.nl" target="_blank"> meer info</a>'
					var berenkuil_url = '<a href="https://www.deberenkuilschoorl.nl/" target="_blank"> meer info</a>'
					var natuurlijk_url = '<img src="vork_en_mes.png" width="50px" height="50px"><a href="https://natuurlijk-egmond.nl/informatie/" target="_blank"> meer info</a>'
					var camperduin_url = '<img src="vork_en_mes.png" width="50px" height="50px"><a href="https://www.strandhotel-camperduin.nl/nl/contact" target="_blank"> meer info</a>'
					var duinvermaak_url = '<img src="vork_en_mes.png" width="50px" height="50px"><a href="https://www.duinvermaak.nl/contact/" target="_blank"> meer info</a>'
					var bowling_url = '<img src="vork_en_mes.png" width="50px" height="50px"><a href="https://www.luckystrikebowling.nl/" target="_blank"> meer info</a>'
					var vuurtoren_url = '<a href="https://www.knrm.nl/historie/knrm-reddingstation-egmond-aan-zee/maritiem-centrum-egmond" target="_blank"> meer info</a>'
					var alpacas_url = '<a href="https://alpaca-ecofarm.nl/contact/" target="_blank"> meer info</a>'
					var surfkamp_url = '<a href="https://www.backyardsurfshop.nl" target="_blank"> meer info</a>'
					var bonbike_url = '<a href="https://www.bonbonbike.nl/contact" target="_blank"> meer info</a>'
					var goflow_url = '<a href="https://bedrijfsuitjesbergen.nl/reserveren" target="_blank"> meer info</a>'
					var aquarium_url = '<a href="https://www.zeeaquarium.nl/" target="_blank"> meer info</a>'


					//coords
					//eten en drinken
					var test_array = [[2852, 5379], [5728, 3747], [4300, 4413], [3762, 2401],[3456, 4952]];
					
					var info = ['De visboet van Egmond aan Zee, de plek om Fish&Chips te eten.<br/> In de zomermaanden iedere dag geopend vanaf 11:30', 'De perfecte plek om verstoppertje te spelen bij de kerk. En waar de ouders kunnen genieten op het gezellige terras van Fabels', 'Zwieren aan de kabelbaan bij het unieke restaurant Gasterij t Woud', 'De Berenkuil in Schoorl is gelegen op een kruispunt van fiets- en wandelpaden en is gemakkelijk bereikbaar voor het hele gezin' , 'Restaurant Natuurlijk'];
					var img_url = ["img/visboet.png", "img/Fabelsrestaurant.png", "img/gasterijtwoud.png" , "img/de_Berenkuil.png", "img/Natuurlijk.png" ]
					var web_url = [null, "https://fabels-bergen.nl", "https://www.het-woud.nl/informatie/", "https://www.deberenkuilschoorl.nl/", "https://natuurlijk-egmond.nl/informatie/"];
					let l = test_array.length;

						for(let i =0; i<l; i++) {
							//popups
							var pop = L.popup({
							closeOnClick: true
						}).setContent('<h4>' + info[i] + '</h4> <img src=' + img_url[i]+ ' style="height:100px" <br /> ' + '<a href=" ' + 
									web_url[i] + ' "target="_blank">meer info</a>');
							//markers
							var marker = L.marker(map.unproject(test_array[i], map.getMaxZoom()), {icon:fabelsIcon}).addTo(map).bindPopup(pop);
							//labels
							var toollip = L.tooltip({
								permanent: false
							}).setContent(info[i]);
						}
						marker.bindTooltip(toollip);


/*
					var dine_visboet = L.marker(map.unproject([2852, 5379],  map.getMaxZoom()), {icon: fabelsIcon})
								.bindPopup('<b>De visboet van Egmond aan Zee, de plek om Fish&Chips te eten. <br /> In de zomermaanden iedere dag geopend vanaf 11:30.</b><br>').openPopup();
					var dine_fabels = L.marker(map.unproject([5728, 3747], map.getMaxZoom()), {icon: fabelsIcon})
								.bindPopup('<b>De perfecte plek om verstoppertje te spelen bij de kerk. En waar de ouders kunnen genieten op het gezellige terras van Fabels </b><br>' + fabels_url).openPopup();
					var dine_gasterij_t_woud = L.marker(map.unproject([4300, 4413], map.getMaxZoom()),{icon: fabelsIcon})
								.bindPopup('<b style="color:blue;">Zwieren aan de kabelbaan bij het unieke restaurant Gasterij t Woud</b><br>' + gasterij_url).openPopup();
					var dine_de_berenkuil = L.marker(map.unproject([3762, 2401], map.getMaxZoom()),{icon: fabelsIcon})
								.bindPopup('<b>De Berenkuil in Schoorl is gelegen op een kruispunt van fiets- en wandelpaden en is gemakkelijk bereikbaar voor het hele gezin</b><br>' + berenkuil_url).openPopup();
					var dine_natuurlijk = L.marker(map.unproject([3456, 4952], map.getMaxZoom()),{icon: fabelsIcon})
								.bindPopup('<b>Restaurant Natuurlijk.</b> <br / > Wie is de beste midgetgolfer? Oefen je skills op de 18 holes baan van restaurant Natuurlijk. Waarna je gelijk kan genieten van duurzame, biologische en streekgebonden gerechten<br>' + natuurlijk_url).openPopup();
					var dine_hotel_camperduin = L.marker(map.unproject([4065, 1751], map.getMaxZoom()), {icon: fabelsIcon})
								.bindPopup('<b>Strandhotel Camperduin.</b><br>' + camperduin_url).openPopup();
					var dine_duinvermaak = L.marker(map.unproject([4089, 3246], map.getMaxZoom()), {icon: fabelsIcon})
								.bindPopup('<b>Duinvermaak restaurant en speeltuin. </b><br>' + duinvermaak_url).openPopup();
					var act_vuurtoren = L.marker(map.unproject([3081, 5206], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Vuurtoren van Egmond aan Zee</b><br>' + vuurtoren_url).openPopup();
					var act_bowling = L.marker(map.unproject([3186, 5456], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Lucky Strike Bowling</b><br>' + bowling_url).openPopup();
					var act_reddingsboot = L.marker(map.unproject([2292, 4920], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Reddingsboot</b>').openPopup();
					var act_zandkastelen_bouwen = L.marker(map.unproject([3230, 4347], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Zandkastelen bouwen</b>').openPopup();
					var act_fietsen = L.marker(map.unproject([3767, 4508], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Fietsen door de duinen</b>').openPopup();
					var act_paarden_spotten = L.marker(map.unproject([4001, 4326], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Hooglanders en wilde paarden spotten</b>').openPopup();
					var act_slotkapel_egmond = L.marker(map.unproject([3701, 5478], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Slotkapel van Egmond aan den Hoef</b>').openPopup();
					var act_fishing = L.marker(map.unproject([4369, 4954], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Lets go Fishing</b>').openPopup();
					var act_varen_van_beren_alkmaar = L.marker(map.unproject([5342, 5207], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Varen van Bergen naar Alkmaar</b>').openPopup();
					var act_alpacas_knuffelen = L.marker(map.unproject([4116, 5279], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Alpacas knuffelen</b>' + alpacas_url).openPopup();
					var act_speeltuin_batavier = L.marker(map.unproject([4783, 4988], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Speeltuin batavier</b>').openPopup();
					var act_strandspelletjes = L.marker(map.unproject([3657, 3429], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Strandspelletjes, Volleybal en Voetbal</b>').openPopup();
					var act_zee_aquarium = L.marker(map.unproject([3355, 4021], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Zee Aquarium</b>' + aquarium_url).openPopup();
					var act_surfkampen = L.marker(map.unproject([3003, 3293], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Surfkampen</b>' + surfkamp_url).openPopup();
					var act_schaapskooi = L.marker(map.unproject([3760, 3749], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Schaapskooi</b>').openPopup();
					var act_kaas_kinderboerderij = L.marker(map.unproject([4558, 4176], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Kaas & Kinderboerderij</b>').openPopup();
					var act_ruinekerk = L.marker(map.unproject([4880, 4026], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Ruinekerk Van Bergen</b>').openPopup();
					var act_bonbike = L.marker(map.unproject([4461, 3796], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Fietsverhuur BonBonBike</b>' + bonbike_url).openPopup();
					var act_kabouterpad = L.marker(map.unproject([4352, 3098], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Kabouterpad</b>').openPopup();
					var act_ijspaleis = L.marker(map.unproject([4975, 3248], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>T IJspaleis</b>').openPopup();
					var act_centrum_schoorlse_duinen = L.marker(map.unproject([4183, 2540], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Buiten Centrum Schoorlse Duinen</b>').openPopup();
					var act_elfendeurtjesroute = L.marker(map.unproject([5043, 3045], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>De Elfendeurtjesroute</b>').openPopup();
					var act_klimduin = L.marker(map.unproject([3749, 2980], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Klimduin</b>').openPopup();
					var act_garnalen_vangen = L.marker(map.unproject([2947, 2476], map.getMaxZoom()), {icon:kidsIcon})
								.bindPopup('<b>Garnalen vangen</b>').openPopup();
					var act_flessenpost = L.marker(map.unproject([3238, 1974], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Flessenbpost</b>').openPopup();
					var act_schelpen_museum = L.marker(map.unproject([3501, 1745], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Zelf een schelpen museum maken</b>').openPopup();
					var act_piraten_schip = L.marker(map.unproject([3863, 1004], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Het Piratenschip</b>').openPopup();
					var act_vogels_spotten = L.marker(map.unproject([4271, 1373], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Vogels spotten</b>').openPopup();
					var act_uitkijkpost = L.marker(map.unproject([5015, 2766], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Uitkijkpost</b>').openPopup();
					var act_beklimmen_hoogste_trap = L.marker(map.unproject([4782, 3109], map.getMaxZoom()), {icon: kidsIcon})
								.bindPopup('<b>Beklimmen van de hoogste trap</b>').openPopup();

					// Layer groups
					var lg_activities = L.layerGroup([
																			act_vuurtoren, 
																			act_bowling, 
																			act_reddingsboot, 
																			act_zandkastelen_bouwen,
																			act_paarden_spotten,
																			act_bonbike,
																			act_fietsen,
																			act_fishing,
																			act_flessenpost,
																			act_schelpen_museum,
																			act_uitkijkpost,
																			act_beklimmen_hoogste_trap,
																			act_elfendeurtjesroute,
																			act_schelpen_museum,
																			act_kabouterpad,
																			act_klimduin,
																			act_kaas_kinderboerderij,
																			act_alpacas_knuffelen,
																			act_garnalen_vangen,
																			act_ruinekerk,
																			act_ijspaleis,
																			act_strandspelletjes,
																			act_surfkampen,
																			act_schaapskooi,
																			act_zee_aquarium,
																			act_centrum_schoorlse_duinen,
																			act_vogels_spotten,
																			act_piraten_schip,
																			act_ruinekerk,
																			act_speeltuin_batavier,
																			act_piraten_schip,
																			act_slotkapel_egmond

																		]);
					var lg_dine = L.layerGroup([dine_visboet,dine_fabels, dine_gasterij_t_woud, dine_de_berenkuil, dine_natuurlijk, dine_hotel_camperduin, dine_duinvermaak]);
					var overlays = {
						"Eten & Drinken" : lg_dine,
						"Activiteiten"	: lg_activities, 
					}
										
					// add layer control
					L.control.layers(null, overlays).addTo(map);
					*/
					//hotspots levend maken met ccs
					//class="leaflet-marker-icon
					//add id aan variabele?
					marker.on('dragend', function(e){
						marker.getPopup().setContent('Clicked' + marker.getLatLng().toString() + '<br />'
							+ 'Pixels ' + map.project(marker.getLatLng(), map.getMaxZoom().toString()))
						.openOn(map);
					});
		</script>
	</body>
</html>
